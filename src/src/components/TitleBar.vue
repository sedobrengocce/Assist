<script>
/* eslint-disable no-unused-vars */
import { mapGetters, mapMutations, mapActions } from 'vuex';
/* eslint-enable no-unused-vars */

export default {
  name: 'TopBar',
  computed: {
    ...mapGetters({
      isLoggedIn: 'isLoggedIn',
    }),
  },
  mounted() {
    if (this.isLoggedIn) {
      this.button = this.logOutButton;
    } else {
      this.button = this.logInButton;
    }
  },
  methods: {
    ...mapMutations(['logInOut', 'openCloseLogin']),
    ...mapActions({
      login: 'login',
    }),
  },
  // eslint-disable-next-line
  render(h) {
    const logInButton = (
      <div class="SignInButton" onClick={ () => {
        this.openCloseLogin(true);
      }}>
        <svg class="TitleIcon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z" fill="white"/></svg>
        <div class="TitleButton">Log In</div>
      </div>
    );
    const logOutButton = (
      <div class="SignInButton" onClick={ () => {
        this.login();
      }}>
        <svg class="TitleIcon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z" fill="white"/></svg>
        <div class="TitleButton">Log Out</div>
      </div>
    );
    return (
      <div class="TopBar">
        <div class="Title">Assist 2</div>
        <div class="FreeSpace"></div>
        { this.isLoggedIn ? logOutButton : logInButton }
      </div>
    );
  },
};
</script>

<style lang="scss" scoped>
@import '../styles/colors.scss';
@import '../styles/mediaMixin.scss';

.TopBar {
  background-color: $blue-cavaliers;
  margin: 0;
  min-height: 75px;
  max-height: 75px;
  padding: 4px 4px 4px 16px;
  display: flex;
  flex-flow: row nowrap;
  align-items: center;
  border-bottom: 1px solid $border-alpha12;
  box-shadow: $shadow;
}
.Title {
  min-height: 65px;
  max-height: 65px;
  font-family: BillyOhio;
  font-size: 60px;
  color: $title-color;
}
.SignInButton {
  margin-right: 8px;
  min-height: 65px;
  max-height: 65px;
  color: $title-color;
  font-size: 2em;
  display: flex;
  flex-flow: row nowrap;
  align-items: center;
  cursor: pointer;
}
.TitleIcon {
  margin-right: 8px;
  margin-left: 8px;
  height: 40px;
}
.TitleButton {
  display: none;
  margin-right: 8px;
  font-size: 25px;
}

@include tablet-desktop {
  .TitleButton {
    display: block;
  }
  .TitleIcon {
    display: none;
  }
}
</style>
